## SUI 代币与支付 gas 费用及赞助交易

我们在前面的课程中只简要介绍了 `Coin<SUI>`，但没有深入探讨。在本课中，我们将探索 SUI 代币的作用。
简而言之，SUI 在 Sui 网络上的主要用途是支付交易的“gas”费用和作为货币。

SUI 代币的 `TreasuryCap` 保存在 Sui 框架内，用于作为其代币经济的一部分向网络发放奖励。没有任何用户或账户可以访问 `TreasuryCap`，
而铸造/销毁 SUI 代币由 Sui 网络通过部署在 0x3 的“系统”智能合约管理。

### Gas
在区块链领域，gas 是指在网络上执行操作（如交易或智能合约）所需的费用。
这是一个至关重要的概念，因为它确保了资源的有效分配，并通过附加成本来帮助优先处理活动。
用户支付 gas 费用以补偿执行操作所需的计算资源，矿工优先处理 gas 费用较高的交易。这一机制维护了区块链的可靠性和安全性。

区块链中交易的 gas 费用与 Web 2.0（集中式）世界中云基础设施成本的处理方式有显著不同。以下是主要区别：

1. **去中心化 vs. 中心化**：区块链以去中心化方式运行，没有单一实体或公司控制网络。
相反，Web 2.0 服务通常依赖于由 Amazon Web Services (AWS)、Google Cloud 或 Microsoft Azure 等公司提供的集中式云基础设施。
2. **用户支付 vs. 公司支付**：在区块链中，用户在执行操作（如进行交易或与智能合约交互）时直接支付 gas 费用。
这些费用确保用户承担其活动的成本。在 Web 2.0 中，公司通常承担其云基础设施的费用，用户在大多数操作中无需直接支付费用。
3. **激励**：区块链中的 gas 费用作为激励，促使矿工（或验证者）处理交易并维护网络的安全性和完整性。
在 Web 2.0 中，云基础设施成本通常由公司作为运营费用的一部分承担，用户或第三方没有直接的财务激励参与基础设施维护。
4. **透明度和控制**：区块链的 gas 费用是透明的，用户可以根据交易的紧急程度调整 gas 价格，以优先实现更快的确认时间或降低成本。
在 Web 2.0 中，云基础设施成本通常对终端用户隐藏，用户对基础设施的底层控制有限。
5. **资源分配**：区块链中的 gas 费用通过确保消耗更多资源的用户支付更高费用来公平和有效地分配计算资源。
在 Web 2.0 中，资源分配通常由集中式云提供商管理，用户无法直接看到或控制资源分配决策。

总之，区块链中的 gas 代表了一种以用户为中心的、承担成本的机制，保持了区块链网络的去中心化和透明性。
相比之下，Web 2.0 依赖于集中式云基础设施，由公司承担成本，用户对底层基础设施的控制和透明度较低。

### SUI 代币的其他用途
除了 gas 费用，网络代币（如 Sui 区块链上的 SUI）还可以作为一种货币，因为它可能是流动性（资金量）最高的货币。这意味着它可以是：

1. 用于在其他应用程序特定的代币或代币之间进行交换的中间价值。
2. 用户持有其资金的价值。
3. 通过质押（锁定）Sui 并运行验证节点来参与保护 Sui 网络。

SUI 的总供应量限制在 10,000,000,000（百亿）代币。在主网上线时，部分 SUI 总供应量成为流动性，剩余代币将在未来几年内解锁，或作为未来质押奖励的补贴分配。

### 支付 gas 费用
在 Sui 网络上发送交易时，用户必须指定支付 gas 费用的 Coin 对象。我们讨论了用户如何拥有多个 Coin 对象，
并可以结合使用 `coin::split` 和 `coin::join` 以及 `transfer::public_transfer` 来管理它们。在 gas 的上下文中，
用户还可以使用 `pay::split`，它结合了 `coin::split` 和 `transfer::public_transfer`，以方便用户使用：

```move
/// 将代币 `self` 拆分成两个代币，其中一个的余额为 `split_amount`，剩余的余额保留在 `self` 中。
public entry fun split<T>(
    self: &mut Coin<T>, split_amount: u64, ctx: &mut TxContext
) {
    keep(coin::split(self, split_amount, ctx), ctx)
}
```
当 UI 在用户的操作下构建交易时，可以结合使用以下方法来有效管理他们的 SUI 余额以支付 gas 费用：

1. 如果用户的 SUI 资金分散在多个 Coin 对象中，并且没有单个对象有足够的余额支付 gas 费用，他们可以将这些对象合并起来。
2. 如果用户想要明确指定一个 Coin 对象作为他们的 gas 资金，他们可以从大部分资金所在的地方拆分出一个 Coin 对象。

### 赞助交易
Sui 赞助交易是指由一个 Sui 地址（赞助者的地址）支付另一个地址（用户的地址）初始化的交易的 gas 费用。
你可以使用赞助交易来为你的网站或应用程序上的用户支付费用，这样他们就不会被收取这些费用。
这消除了 Web 2.0 用户进入 Web3 时遇到的一个重大障碍，因为他们通常需要购买代币才能在链上进行交易。例如，你可以赞助玩家的早期交易以提高转换率。

更多详情可以在这里找到：https://docs.sui.io/concepts/transactions/sponsored-transactions。
